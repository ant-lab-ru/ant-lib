<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="562px" height="801px" viewBox="-0.5 -0.5 562 801" content="&lt;mxfile&gt;&lt;diagram id=&quot;9955hTIZ9qIGO8fSdCxM&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;"><defs/><g><rect x="0" y="0" width="560" height="800" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe flex-start; justify-content: unsafe center; width: 546px; height: 1px; padding-top: 13px; margin-left: 7px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><div style=""><span style="background-color: initial;">DES - devices enumeration service (CCSDS)</span></div><div style=""><span style="background-color: initial;"><br /></span></div><span style="background-color: initial;"><div style="text-align: justify;"><span style="background-color: initial;">Одноименная библиотека DES представляет собой реализацию сервиса нумерации устройств. Библиотека позволяет идентифицировать устройства подключенные к физической шине, определять поддердиваемые каждым устройством сервисы и их версии. Алгоритм по получению информации от незнакомых устройств представлен ниже.</span></div><div style="text-align: justify;"><span style="background-color: initial;">1) происходит отправки шириковещательного запроса. Его целью является получение информации об активных устройствах на шине. Ответы от устройств должны быть как можно короче для избежания широковещательной лавины. Результатом этого запроса является список устройст, присутствующих на шине.</span></div><div style="text-align: justify;"><span style="background-color: initial;">2) происходит запрос сервисов, поддерживаемых каждым устройством. Запрос напрявляется на одно конкретное устройство. Для получения полной информации запрос необходимо сделать для каждого устройства. Запрос необходим для получения информации о сервисах, которые предоставляет каждое устройство, а так же о версии этих сервисов, для реализации обратной сомвестимости.</span></div><div style="text-align: justify;"><span style="background-color: initial;"><br /></span></div><div style="text-align: justify;">Список устройств и его сервисов хранится в виде файла des.json, что позволяет создавать статические списки устройств и не производить запросы 1 и 2 для работы с устройствами.<span style="background-color: initial;"><br /></span></div><div style="text-align: justify;"><span style="background-color: initial;"><br /></span></div><div style="text-align: justify;"><span style="background-color: initial;"><br /></span></div></span></div></div></div></foreignObject><text x="280" y="25" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">DES - devices enumeration service (CCSDS)...</text></switch></g><path d="M 170 430 L 170 453.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 170 458.88 L 166.5 451.88 L 170 453.63 L 173.5 451.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="60" y="380" width="220" height="50" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 405px; margin-left: 61px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Широковещательный запрос<br />(DES broadcast)</div></div></div></foreignObject><text x="170" y="409" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Широковещательный запрос...</text></switch></g><path d="M 170 510 L 170 533.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 170 538.88 L 166.5 531.88 L 170 533.63 L 173.5 531.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 260 485 L 290 485 Q 300 485 300 495 L 300 560 Q 300 570 310 570 L 323.63 570" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 328.88 570 L 321.88 573.5 L 323.63 570 L 321.88 566.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 70 510 L 90 460 L 270 460 L 250 510 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 485px; margin-left: 71px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">список устройств<br />(devices list)</div></div></div></foreignObject><text x="170" y="489" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">список устройств...</text></switch></g><path d="M 170 360 L 170 373.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 170 378.88 L 166.5 371.88 L 170 373.63 L 173.5 371.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="130" y="330" width="80" height="30" rx="15" ry="15" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 78px; height: 1px; padding-top: 345px; margin-left: 131px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">начало</div></div></div></foreignObject><text x="170" y="349" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">начало</text></switch></g><path d="M 170 610 L 170 633.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 170 638.88 L 166.5 631.88 L 170 633.63 L 173.5 631.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="60" y="540" width="220" height="70" fill="#dae8fc" stroke="#6c8ebf" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 575px; margin-left: 61px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Запрос сервисов, поддерживаемых устройством и их версий<br />(DES services list)</div></div></div></foreignObject><text x="170" y="579" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Запрос сервисов, поддерживаемых устройством и их версий...</text></switch></g><path d="M 170 690 L 170 713.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 170 718.88 L 166.5 711.88 L 170 713.63 L 173.5 711.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 260 665 L 290 665 Q 300 665 300 655 L 300 580 Q 300 570 310 570 L 323.63 570" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 328.88 570 L 321.88 573.5 L 323.63 570 L 321.88 566.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><path d="M 70 690 L 90 640 L 270 640 L 250 690 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 198px; height: 1px; padding-top: 665px; margin-left: 71px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">список сервисов устройства<br />(device services list)</div></div></div></foreignObject><text x="170" y="669" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">список сервисов устройства...</text></switch></g><rect x="60" y="720" width="220" height="60" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 750px; margin-left: 61px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">Взаимодействие с сервисами, не имеющее отношение к DES</div></div></div></foreignObject><text x="170" y="754" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Взаимодействие с сервисами, не имеющее отношение к DES</text></switch></g><rect x="330" y="360" width="210" height="420" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 208px; height: 1px; padding-top: 570px; margin-left: 332px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: left;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font face="Courier New">des.json<br />{<br />  devices: [<br />    {<br />      "device": "ktrl0",<br />      "services": [<br />        {<br />          "name" : "mac",<br />          "version" : "v1.0"<br />        },<br />        {<br />          "name" : "sm",<br />          "version" : "v1.0"<br />        }<br />      ] <br />    },<br /></font><span style="font-family: &quot;Courier New&quot;;">    {</span><br style="border-color: var(--border-color); font-family: &quot;Courier New&quot;;" /><span style="font-family: &quot;Courier New&quot;;">      "device": "sd",</span><br style="border-color: var(--border-color); font-family: &quot;Courier New&quot;;" /><span style="font-family: &quot;Courier New&quot;;">      "services": [</span><br style="border-color: var(--border-color); font-family: &quot;Courier New&quot;;" /><span style="font-family: &quot;Courier New&quot;;">        {</span><br style="border-color: var(--border-color); font-family: &quot;Courier New&quot;;" /><span style="font-family: &quot;Courier New&quot;;">          "name" : "mac",</span><br style="border-color: var(--border-color); font-family: &quot;Courier New&quot;;" /><span style="font-family: &quot;Courier New&quot;;">          "version" : "v1.0"</span><br style="border-color: var(--border-color); font-family: &quot;Courier New&quot;;" /><span style="font-family: &quot;Courier New&quot;;">        }</span><br style="border-color: var(--border-color); font-family: &quot;Courier New&quot;;" /><span style="font-family: &quot;Courier New&quot;;">      ]</span><br style="border-color: var(--border-color); font-family: &quot;Courier New&quot;;" /><span style="font-family: &quot;Courier New&quot;;">    }</span><font face="Courier New"><br />  ]<br />}</font></div></div></div></foreignObject><text x="332" y="574" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px">des.json...</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>