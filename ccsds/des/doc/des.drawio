<mxfile host="65bd71144e">
    <diagram id="9955hTIZ9qIGO8fSdCxM" name="Page-1">
        <mxGraphModel dx="784" dy="582" grid="1" gridSize="10" guides="1" tooltips="1" connect="0" arrows="1" fold="1" page="1" pageScale="1" pageWidth="850" pageHeight="1100" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="49" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="740" y="560" width="200" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="2" value="&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;DES - devices enumeration service (CCSDS)&lt;/font&gt;&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;div style=&quot;text-align: justify;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;Одноименная библиотека DES представляет собой реализацию сервиса нумерации устройств. Библиотека позволяет идентифицировать устройства подключенные к физической шине, определять поддердиваемые каждым устройством сервисы и их версии. Алгоритм по получению информации от незнакомых устройств представлен ниже.&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;1) происходит отправки шириковещательного запроса. Его целью является получение информации об активных устройствах на шине. Ответы от устройств должны быть как можно короче для избежания широковещательной лавины. Результатом этого запроса является список устройст, присутствующих на шине.&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;2) происходит запрос сервисов, поддерживаемых каждым устройством. Запрос напрявляется на одно конкретное устройство. Для получения полной информации запрос необходимо сделать для каждого устройства. Запрос необходим для получения информации о сервисах, которые предоставляет каждое устройство, а так же о версии этих сервисов, для реализации обратной сомвестимости.&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;При получении ответа на широковещательный запрос, помимо сохранения имени устройства, сохраняется ардес устиройства (адрес, с которого был получен ответ). Этот адрес в дальнейшем используется как основной адрес устройства.&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;Список устройств и его сервисов хранится в виде файла des.json, что позволяет создавать статические списки устройств и не производить запросы 1 и 2 для работы с устройствами. Либо при необходимости редактировать список устройст либо их адресов, а также задавать статические адреса.&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: justify;&quot;&gt;&lt;span style=&quot;white-space: pre;&quot;&gt;&#9;&lt;/span&gt;В случае получения идентичных имен от двух и более устройств, дифференцирование происходит по адресу устройства (адресу отправителя ответа). При идентичных адресах и&amp;nbsp; именах устройств происходит коллизия. Работа с такими устройствами не проддерживается.&lt;/div&gt;&lt;div style=&quot;text-align: justify;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;&lt;br&gt;&lt;/span&gt;&lt;/div&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;verticalAlign=top;spacing=8;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;connectable=1;" parent="1" vertex="1">
                    <mxGeometry x="120" y="80" width="560" height="920" as="geometry"/>
                </mxCell>
                <mxCell id="6" style="edgeStyle=none;html=1;" parent="1" source="3" target="5" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="3" value="Широковещательный запрос&lt;br&gt;(DES broadcast)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
                    <mxGeometry x="180" y="580" width="220" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="10" style="edgeStyle=none;html=1;" parent="1" source="5" target="9" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="16" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Courier New;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="5" target="15" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="5" value="список устройств&lt;br&gt;(devices list)" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;" parent="1" vertex="1">
                    <mxGeometry x="190" y="660" width="200" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="8" style="edgeStyle=none;html=1;" parent="1" source="7" target="3" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="7" value="начало" style="rounded=1;whiteSpace=wrap;html=1;arcSize=50;" parent="1" vertex="1">
                    <mxGeometry x="250" y="530" width="80" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="12" style="edgeStyle=none;html=1;" parent="1" source="9" target="11" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="9" value="Запрос сервисов, поддерживаемых устройством и их версий&lt;br&gt;(DES services list)" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
                    <mxGeometry x="180" y="740" width="220" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="14" style="edgeStyle=none;html=1;" parent="1" source="11" target="13" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="17" style="edgeStyle=orthogonalEdgeStyle;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontFamily=Courier New;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="11" target="15" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="11" value="список сервисов устройства&lt;br&gt;(device services list)" style="shape=parallelogram;perimeter=parallelogramPerimeter;whiteSpace=wrap;html=1;fixedSize=1;" parent="1" vertex="1">
                    <mxGeometry x="190" y="840" width="200" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="13" value="Взаимодействие с сервисами, не имеющее отношение к DES" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="180" y="920" width="220" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="15" value="&lt;font face=&quot;Courier New&quot;&gt;des.json&lt;br&gt;{&lt;br&gt;&amp;nbsp; devices: [&lt;br&gt;&amp;nbsp; &amp;nbsp; {&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;device&quot;:&quot;ktrl0&quot;,&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;font-family: &amp;quot;Courier New&amp;quot;;&quot;&gt;&quot;addr&quot;:&quot;192.168.1.1&quot;,&lt;/span&gt;&lt;font face=&quot;Courier New&quot;&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;services&quot;: [&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;name&quot;: &quot;mac&quot;,&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;version&quot;: &quot;v1.0&quot;,&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;port&quot;: &quot;52001&quot;&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; },&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;name&quot;: &quot;sm&quot;,&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;version&quot;: &quot;v1.0&quot;,&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;/font&gt;&lt;span style=&quot;font-family: &amp;quot;Courier New&amp;quot;;&quot;&gt;&quot;port&quot;: &quot;52002&quot;&lt;/span&gt;&lt;font face=&quot;Courier New&quot;&gt;&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;br&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; ]&amp;nbsp;&lt;br&gt;&amp;nbsp; &amp;nbsp; },&lt;br&gt;&lt;/font&gt;&lt;span style=&quot;font-family: &amp;quot;Courier New&amp;quot;;&quot;&gt;&amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;br style=&quot;border-color: var(--border-color); font-family: &amp;quot;Courier New&amp;quot;;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Courier New&amp;quot;;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;device&quot;:&quot;sd&quot;,&lt;br&gt;&lt;/span&gt;&lt;span style=&quot;font-family: &amp;quot;Courier New&amp;quot;;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;addr&quot;:&quot;192.168.1.2&quot;,&lt;/span&gt;&lt;br style=&quot;border-color: var(--border-color); font-family: &amp;quot;Courier New&amp;quot;;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Courier New&amp;quot;;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;services&quot;: [&lt;/span&gt;&lt;br style=&quot;border-color: var(--border-color); font-family: &amp;quot;Courier New&amp;quot;;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Courier New&amp;quot;;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; {&lt;/span&gt;&lt;br style=&quot;border-color: var(--border-color); font-family: &amp;quot;Courier New&amp;quot;;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Courier New&amp;quot;;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;name&quot;: &quot;mac&quot;,&lt;/span&gt;&lt;br style=&quot;border-color: var(--border-color); font-family: &amp;quot;Courier New&amp;quot;;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Courier New&amp;quot;;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &quot;version&quot;: &quot;v1.0&quot;,&lt;br&gt;&lt;/span&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&amp;nbsp;&lt;span style=&quot;font-family: &amp;quot;Courier New&amp;quot;;&quot;&gt;&quot;port&quot;: &quot;52001&quot;&lt;/span&gt;&lt;br style=&quot;border-color: var(--border-color); font-family: &amp;quot;Courier New&amp;quot;;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Courier New&amp;quot;;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;br style=&quot;border-color: var(--border-color); font-family: &amp;quot;Courier New&amp;quot;;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Courier New&amp;quot;;&quot;&gt;&amp;nbsp; &amp;nbsp; &amp;nbsp; ]&lt;/span&gt;&lt;br style=&quot;border-color: var(--border-color); font-family: &amp;quot;Courier New&amp;quot;;&quot;&gt;&lt;span style=&quot;font-family: &amp;quot;Courier New&amp;quot;;&quot;&gt;&amp;nbsp; &amp;nbsp; }&lt;/span&gt;&lt;font face=&quot;Courier New&quot;&gt;&lt;br&gt;&amp;nbsp; ]&lt;br&gt;}&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="1" vertex="1">
                    <mxGeometry x="450" y="470" width="210" height="510" as="geometry"/>
                </mxCell>
                <mxCell id="18" value="" style="rounded=0;whiteSpace=wrap;html=1;movable=1;resizable=1;rotatable=1;deletable=1;editable=1;connectable=1;" parent="1" vertex="1">
                    <mxGeometry x="720" y="80" width="530" height="920" as="geometry"/>
                </mxCell>
                <mxCell id="20" value="&lt;font style=&quot;font-size: 14px;&quot;&gt;&lt;b&gt;Описание сообщений DES.&lt;/b&gt;&lt;/font&gt;&lt;br&gt;&lt;br&gt;Общение происходит в формате запрос - ответ. Запросы поступают к устройству, предоставляющему сервис DES, а ответ отправляется обратно." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="720" y="90" width="530" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="22" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="740" y="200" width="200" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="23" value="" style="endArrow=none;html=1;entryX=0.25;entryY=0;entryDx=0;entryDy=0;exitX=0.25;exitY=1;exitDx=0;exitDy=0;" parent="1" source="22" target="22" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="890" y="390" as="sourcePoint"/>
                        <mxPoint x="940" y="340" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="24" value="" style="endArrow=none;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="22" target="22" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="800" y="250" as="sourcePoint"/>
                        <mxPoint x="800" y="210" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="25" value="" style="endArrow=none;html=1;entryX=0.75;entryY=0;entryDx=0;entryDy=0;exitX=0.75;exitY=1;exitDx=0;exitDy=0;" parent="1" source="22" target="22" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="810" y="260" as="sourcePoint"/>
                        <mxPoint x="810" y="220" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="26" value="byte0&lt;br&gt;'D' 0x44" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="740" y="200" width="50" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="27" value="byte1&lt;br&gt;'E' 0x45" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="790" y="200" width="50" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="28" value="byte2&lt;br&gt;'S' 0x53" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="840" y="200" width="50" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="29" value="byte3&lt;br&gt;type" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="890" y="200" width="50" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="31" value="Запрос состоит из 4-х байт, первые три всегда равны символам 'DES' в кодировке ASCII.&lt;br&gt;&lt;div style=&quot;&quot;&gt;&lt;span style=&quot;background-color: initial;&quot;&gt;3й (от нуля) байт задает тип запроса согласно таблице:&lt;/span&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="720" y="240" width="530" height="50" as="geometry"/>
                </mxCell>
                <mxCell id="32" value="byte3" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="740" y="290" width="50" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="33" value="Тип запроса" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="790" y="290" width="320" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="34" value="0x00" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="740" y="320" width="50" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="35" value="Зарезервировано" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="790" y="320" width="320" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="36" value="0x01" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="740" y="350" width="50" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="37" value="Широковещательный&amp;nbsp; запрос. Каждое устройство, получив такой запрос, должно отправить ответ, содержащий свое имя, тем самым подтвердив свое присутствие на шине" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="790" y="350" width="320" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="38" value="0x02" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="740" y="410" width="50" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="39" value="Запрос сервисов, поддерживаемых устройством и их версий. Каждое устройство, получив такой запрос, должно отправить ответ, содержащий список&amp;nbsp; всех своих сервисов и их версий." style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="790" y="410" width="320" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="40" value="0x03 - 0xFF" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="740" y="470" width="50" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="41" value="Зарезервировано" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="790" y="470" width="320" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="43" value="byte0&lt;br&gt;type" style="text;html=1;strokeColor=default;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="740" y="560" width="50" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="45" value="bytes&lt;br&gt;string1" style="text;html=1;strokeColor=default;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="790" y="560" width="100" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="46" value="byte m&lt;br&gt;0x00" style="text;html=1;strokeColor=default;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="890" y="560" width="50" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="57" value="Формат ответа на широковещательный запрос состоит из байта типа запроса, он должен быть равен полученному байту byte3 из запроса. Далее следует строка, содержащая имя устройства. В конце сообщения терминирующий ноль. Рекомендуется в качестве названия устройства использовать строку из максимум 5 символов, для возможности отправки сообщения в одном кадре CAN." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="720" y="600" width="530" height="90" as="geometry"/>
                </mxCell>
                <mxCell id="59" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="740" y="739.29" width="440" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="60" value="byte0&lt;br&gt;type" style="text;html=1;strokeColor=default;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="740" y="739.29" width="50" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="61" value="byte1&lt;br&gt;idx 0x0" style="text;html=1;strokeColor=default;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="790" y="739.29" width="50" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="62" value="bytes&lt;br&gt;service info" style="text;html=1;strokeColor=default;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="840" y="739.29" width="100" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="66" value="byte n&lt;br&gt;idx 0x1" style="text;html=1;strokeColor=default;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="940" y="739.29" width="50" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="67" value="bytes&lt;br&gt;service info" style="text;html=1;strokeColor=default;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="990" y="739.29" width="100" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="72" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;strokeColor=default;" parent="1" vertex="1">
                    <mxGeometry x="1110" y="754.29" width="10" height="10" as="geometry"/>
                </mxCell>
                <mxCell id="76" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;strokeColor=default;" parent="1" vertex="1">
                    <mxGeometry x="1130" y="754.29" width="10" height="10" as="geometry"/>
                </mxCell>
                <mxCell id="77" value="" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;strokeColor=default;" parent="1" vertex="1">
                    <mxGeometry x="1150" y="754.29" width="10" height="10" as="geometry"/>
                </mxCell>
                <mxCell id="78" value="" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
                    <mxGeometry x="740" y="809.29" width="300" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="81" value="bytes&lt;br&gt;string1 (name)" style="text;html=1;strokeColor=default;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="740" y="809.29" width="100" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="82" value="byte k&lt;br&gt;0x00" style="text;html=1;strokeColor=default;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="840" y="809.29" width="50" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="83" value="bytes&lt;br&gt;string2 (version)" style="text;html=1;strokeColor=default;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="890" y="809.29" width="100" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="84" value="byte k&lt;br&gt;0x00" style="text;html=1;strokeColor=default;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="990" y="809.29" width="50" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="86" value="" style="shape=curlyBracket;whiteSpace=wrap;html=1;rounded=1;flipH=1;labelPosition=right;verticalLabelPosition=middle;align=left;verticalAlign=middle;strokeColor=default;fillColor=#000000;rotation=-90;size=0.5;" parent="1" vertex="1">
                    <mxGeometry x="872.58" y="640" width="32.03" height="306.57" as="geometry"/>
                </mxCell>
                <mxCell id="87" value="bytes service info" style="text;html=1;strokeColor=default;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="740" y="849.29" width="300" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="88" value="Формат ответа на запрос сервисов состоит из байта типа запроса, он должен быть равен полученному байту byte3 из запроса. Затем последовательно следует информация о каждом поддерживаемом сервисе. Для каждого сервиса отправляются порядковый индекс сервиса в ответе, т.е. числа 0, 1, 2 и т.д. и набор строк, описывающий сервис. В конце каждой строки должен следовать терминирующий ноль. Для каждого сервиса первая строка должна содержать название сервиса, вторая строка должна содержать версию сервиса." style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="730" y="876.5699999999999" width="510" height="109.29" as="geometry"/>
                </mxCell>
                <mxCell id="90" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;Запрос&lt;/font&gt;&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="740" y="170" width="60" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="91" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;Ответ на шириковещательный&amp;nbsp; запрос&lt;/font&gt;&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="720" y="530" width="320" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="92" value="&lt;b&gt;&lt;font style=&quot;font-size: 14px;&quot;&gt;Ответ на запрос сервисов&lt;/font&gt;&lt;/b&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
                    <mxGeometry x="740" y="709.29" width="200" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="93" value="" style="endArrow=none;html=1;fontSize=14;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="720" y="160" as="sourcePoint"/>
                        <mxPoint x="1250" y="160" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="94" value="" style="endArrow=none;html=1;fontSize=14;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="720" y="519.5699999999999" as="sourcePoint"/>
                        <mxPoint x="1250" y="519.5699999999999" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="95" value="" style="endArrow=none;html=1;fontSize=14;" parent="1" edge="1">
                    <mxGeometry width="50" height="50" relative="1" as="geometry">
                        <mxPoint x="720" y="696.57" as="sourcePoint"/>
                        <mxPoint x="1250" y="696.57" as="targetPoint"/>
                    </mxGeometry>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>